connStr <- "Driver=SQL Server;Server Name=test-sql06.algtest.local\sqlserverR;DatabaseName=NYCTaxiData"
connStr <- "Driver=SQL Server;Server Name=test-sql06.algtest.local\sqlserverR;DatabaseName=NYCTaxiData;"
connStr <- "Driver=SQL Server;Server Name=test-sql06.algtest.local\\sqlserverR;DatabaseName=NYCTaxiData;"
sqlShareDir <- paste("C:\\temp\\", Sys.getenv("USERNAME"), sep = "")
sqlWait <- TRUE
sqlConsoleOutput <- FALSE
cc <- RxInSqlServer(connectionString = connStr,      shareDir = sqlShareDir,      wait = sqlWait, consoleOutput = sqlConsoleOutput)
connStr <- "Driver=SQL Server;Server Name=test-sql06.algtest.local\\sqlserverR;DatabaseName=NYCTaxiData;Uid=sa;Pwd=Lrsfqb6bRwZNUQouEkPE" sqlShareDir <- paste("C:\\temp\\", Sys.getenv("USERNAME"), sep = "") sqlWait <- TRUE sqlConsoleOutput <- FALSE
cc <- RxInSqlServer(connectionString = connStr,      shareDir = sqlShareDir,      wait = sqlWait, consoleOutput = sqlConsoleOutput)
rxSetComputeContext(cc)
ampleDataQuery <- "/****** Script for SelectTopNRows command from SSMS  ******/ SELECT TOP (10000) [medallion]       ,[fare_amount]       ,[surcharge]   FROM [dbo].[nyctaxi_sample]"
inDataSource <- RxSqlServerData(sqlQuery = sampleDataQuery, connectionString = connStr,     colClasses = c(medallion = "string", fare_amount = "numeric", surcharge = "numeric"),     rowsPerRead = 500)
sampleDataQuery
sampleDataQuery <- "SELECT TOP (10000) [medallion]       ,[fare_amount]       ,[surcharge]   FROM [dbo].[nyctaxi_sample]"
sampleDataQuery
inDataSource <- RxSqlServerData(sqlQuery = sampleDataQuery, connectionString = connStr,     colClasses = c(medallion = "string", fare_amount = "numeric", surcharge = "numeric"),     rowsPerRead = 500)
head(inDataSource)
inDataSource
str(inDataSource)
.libPaths()
.libPaths(c(.libPaths(), "C:\\Program Files\\Microsoft SQL Server\\MSSQL13.SQLSERVERR\\R_SERVICES\\library") )
.libPaths()
library(RevoScaleR)
connStr<-"Driver=SQL Server;Server=TEST-BI06.algtest.local\\SQLServerR;Database=NYCTaxiData;Uid=SQLserverR_user;Pwd=Amerilife01"
connStr
sqlShareDir <- paste("F:\\Rshare", Sys.getenv("SQLServerR_user"), sep = "")
sqlShareDir
Sys.getenv("SQLServerR_user")
sqlWait<-TRUE
sqlConsoleOutput<-FALSE
cc <- RxInSqlServer(connectionString = connStr,      shareDir = sqlShareDir,     wait = sqlWait, consoleOutput = sqlConsoleOutput)
str(cc)
rxSetComputeContext(cc)
sampleDataQuery <- "select top 1000 tipped, tip_amount, fare_amount, passenger_count,trip_time_in_secs,trip_distance, pickup_datetime, dropoff_datetime, cast(pickup_longitude as float) as pickup_longitude, cast(pickup_latitude as float) as pickup_latitude, cast(dropoff_longitude as float) as dropoff_longitude, cast(dropoff_latitude as float) as dropoff_latitude, payment_type from nyctaxi_sample tablesample(1 percent) repeatable(98052) "
ptypeColInfo <- list(     payment_type = list(         type = "factor",         levels = c("CSH", "CRD", "DIS", "NOC", "UNK"),         newLevels = c("CSH", "CRD", "DIS", "NOC", "UNK")     ) )
ptypeColInfo
inDataSource <- RxSqlServerData(sqlQuery = sampleDataQuery,      connectionString = connStr,     colInfo = ptypeColInfo,     colClasses = c(pickup_longitude = "numeric", pickup_latitude = "numeric",                    dropoff_longitude = "numeric", dropoff_latitude = "numeric"),      rowsPerRead = 500)     ) )
inDataSource <- RxSqlServerData(sqlQuery = sampleDataQuery,      connectionString = connStr,     colInfo = ptypeColInfo,     colClasses = c(pickup_longitude = "numeric", pickup_latitude = "numeric",                    dropoff_longitude = "numeric", dropoff_latitude = "numeric"),      rowsPerRead = 500      )
str(inDataSource)
